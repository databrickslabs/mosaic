<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vector Format Readers &mdash; Mosaic</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
      <link rel="stylesheet" href="../_static/fonts.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/tabs.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Raster Format Readers" href="raster-format-readers.html" />
    <link rel="prev" title="API Documentation" href="api.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Mosaic
            <img src="../_static/mosaic_logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="api.html">API Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Vector Format Readers</a></li>
<li class="toctree-l2"><a class="reference internal" href="raster-format-readers.html">Raster Format Readers</a></li>
<li class="toctree-l2"><a class="reference internal" href="geometry-constructors.html">Geometry constructors</a></li>
<li class="toctree-l2"><a class="reference internal" href="geometry-accessors.html">Geometry accessors</a></li>
<li class="toctree-l2"><a class="reference internal" href="spatial-functions.html">Spatial functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="spatial-indexing.html">Spatial grid indexing</a></li>
<li class="toctree-l2"><a class="reference internal" href="spatial-predicates.html">Spatial predicates</a></li>
<li class="toctree-l2"><a class="reference internal" href="spatial-aggregations.html">Spatial aggregation functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="raster-functions.html">Raster functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="rasterio-udfs.html">Rasterio UDFs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../usage/usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models/models.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../literature/videos.html">Mosaic Videos and Talks</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Mosaic</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="api.html">API Documentation</a></li>
      <li class="breadcrumb-item active">Vector Format Readers</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/vector-format-readers.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="vector-format-readers">
<h1>Vector Format Readers<a class="headerlink" href="#vector-format-readers" title="Permalink to this headline"></a></h1>
<div class="section" id="intro">
<h2>Intro<a class="headerlink" href="#intro" title="Permalink to this headline"></a></h2>
<p>Mosaic provides spark readers for vector files supported by GDAL OGR drivers.
Only the drivers that are built by default are supported.
Here are some common useful file formats:</p>
<blockquote>
<div><ul class="simple">
<li><p>GeoJSON (also ESRIJSON, TopoJSON)
<a class="reference external" href="https://gdal.org/drivers/vector/geojson.html">https://gdal.org/drivers/vector/geojson.html</a></p></li>
<li><p>ESRI File Geodatabase (FileGDB) and ESRI File Geodatabase vector (OpenFileGDB)
Mosaic implements named reader geo_db (described in this doc)
<a class="reference external" href="https://gdal.org/drivers/vector/filegdb.html">https://gdal.org/drivers/vector/filegdb.html</a></p></li>
<li><p>ESRI Shapefile / DBF (ESRI Shapefile) - Mosaic implements named reader shapefile (described in this doc)
<a class="reference external" href="https://gdal.org/drivers/vector/shapefile.html">https://gdal.org/drivers/vector/shapefile.html</a></p></li>
<li><p>Network Common Data Form (netCDF) - Mosaic implements raster reader also
<a class="reference external" href="https://gdal.org/drivers/raster/netcdf.html">https://gdal.org/drivers/raster/netcdf.html</a></p></li>
<li><p>(Geo)Parquet (Parquet) - Mosaic will be implementing a custom reader soon
<a class="reference external" href="https://gdal.org/drivers/vector/parquet.html">https://gdal.org/drivers/vector/parquet.html</a></p></li>
<li><p>Spreadsheets (XLSX, XLS, ODS)
<a class="reference external" href="https://gdal.org/drivers/vector/xls.html">https://gdal.org/drivers/vector/xls.html</a></p></li>
<li><p>U.S. Census TIGER/Line (TIGER)
<a class="reference external" href="https://gdal.org/drivers/vector/tiger.html">https://gdal.org/drivers/vector/tiger.html</a></p></li>
<li><p>PostgreSQL Dump (PGDump)
<a class="reference external" href="https://gdal.org/drivers/vector/pgdump.html">https://gdal.org/drivers/vector/pgdump.html</a></p></li>
<li><p>Keyhole Markup Language (KML)
<a class="reference external" href="https://gdal.org/drivers/vector/kml.html">https://gdal.org/drivers/vector/kml.html</a></p></li>
<li><p>Geography Markup Language (GML)
<a class="reference external" href="https://gdal.org/drivers/vector/gml.html">https://gdal.org/drivers/vector/gml.html</a></p></li>
<li><p>GRASS - option for Linear Referencing Systems (LRS)
<a class="reference external" href="https://gdal.org/drivers/vector/grass.html">https://gdal.org/drivers/vector/grass.html</a></p></li>
</ul>
</div></blockquote>
<p>For more information please refer to gdal documentation: <a class="reference external" href="https://gdal.org/drivers/vector/index.html">https://gdal.org/drivers/vector/index.html</a></p>
<dl class="simple">
<dt>Mosaic provides two flavors of the readers:</dt><dd><ul class="simple">
<li><p>spark.read.format(“ogr”) for reading 1 file per spark task</p></li>
<li><p>mos.read().format(“multi_read_ogr”) for reading file in parallel with multiple spark tasks</p></li>
</ul>
</dd>
</dl>
<div class="section" id="spark-read-format-ogr">
<h3>spark.read.format(“ogr”)<a class="headerlink" href="#spark-read-format-ogr" title="Permalink to this headline"></a></h3>
<p>A base Spark SQL data source for reading GDAL vector data sources.
The output of the reader is a DataFrame with inferred schema.
The schema is inferred from both features and fields in the vector file.
Each feature will be provided as 2 columns:</p>
<blockquote>
<div><ul class="simple">
<li><p>geometry - geometry of the feature (GeometryType)</p></li>
<li><p>srid - spatial reference system identifier of the feature (StringType)</p></li>
</ul>
</div></blockquote>
<p>The fields of the feature will be provided as columns in the DataFrame.
The types of the fields are coerced to most concrete type that can hold all the values.
The reader supports the following options:</p>
<blockquote>
<div><ul class="simple">
<li><p>driverName - GDAL driver name (StringType)</p></li>
<li><p>vsizip - if the vector files are zipped files, set this to true (BooleanType)</p></li>
<li><p>asWKB - if the geometry should be returned as WKB (BooleanType) - default is false</p></li>
<li><p>layerName - name of the layer to read (StringType)</p></li>
<li><p>layerNumber - number of the layer to read (IntegerType)</p></li>
</ul>
</div></blockquote>
<dl class="py function">
<dt class="sig sig-object py" id="read.format">
<span class="sig-prename descclassname"><span class="pre">read.</span></span><span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">&quot;ogr&quot;).load(path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#read.format" title="Permalink to this definition"></a></dt>
<dd><p>Loads a vector file and returns the result as a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – the path of the vector file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd></dl>

<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" role="tablist"><button aria-controls="panel-0-UHl0aG9u" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-0-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="0">Python</button><button aria-controls="panel-0-U2NhbGE=" aria-selected="false" class="sphinx-tabs-tab code-tab group-tab" id="tab-0-U2NhbGE=" name="U2NhbGE=" role="tab" tabindex="-1">Scala</button></div><div aria-labelledby="tab-0-UHl0aG9u" class="sphinx-tabs-panel code-tab group-tab" id="panel-0-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">spark</span><span class="o">.</span><span class="n">read</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;ogr&quot;</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s2">&quot;driverName&quot;</span><span class="p">,</span> <span class="s2">&quot;GeoJSON&quot;</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s2">&quot;layerName&quot;</span><span class="p">,</span> <span class="s2">&quot;points&quot;</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s2">&quot;asWKB&quot;</span><span class="p">,</span> <span class="s2">&quot;false&quot;</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;file:///tmp/points.geojson&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
<span class="o">|</span>             <span class="n">field_1</span><span class="o">|</span><span class="n">field_2</span><span class="o">|</span> <span class="o">...</span> <span class="o">|</span>           <span class="n">geom_1</span><span class="o">|</span><span class="n">geom_1_srid</span><span class="o">|</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
<span class="o">|</span>       <span class="s2">&quot;description&quot;</span><span class="o">|</span>      <span class="mi">1</span><span class="o">|</span> <span class="o">...</span> <span class="o">|</span> <span class="n">POINT</span> <span class="p">(</span><span class="mf">1.0</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">|</span>       <span class="mi">4326</span><span class="o">|</span>
<span class="o">|</span>       <span class="s2">&quot;description&quot;</span><span class="o">|</span>      <span class="mi">2</span><span class="o">|</span> <span class="o">...</span> <span class="o">|</span> <span class="n">POINT</span> <span class="p">(</span><span class="mf">2.0</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">|</span>       <span class="mi">4326</span><span class="o">|</span>
<span class="o">|</span>       <span class="s2">&quot;description&quot;</span><span class="o">|</span>      <span class="mi">3</span><span class="o">|</span> <span class="o">...</span> <span class="o">|</span> <span class="n">POINT</span> <span class="p">(</span><span class="mf">3.0</span> <span class="mf">3.0</span><span class="p">)</span> <span class="o">|</span>       <span class="mi">4326</span><span class="o">|</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-U2NhbGE=" class="sphinx-tabs-panel code-tab group-tab" hidden="true" id="panel-0-U2NhbGE=" name="U2NhbGE=" role="tabpanel" tabindex="0"><div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="kd">val</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">read</span><span class="p">.</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;ogr&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">option</span><span class="p">(</span><span class="s">&quot;layerName&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;points&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">option</span><span class="p">(</span><span class="s">&quot;asWKB&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;false&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;file:///tmp/points.geojson&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
<span class="o">|</span><span class="w">             </span><span class="n">field_1</span><span class="o">|</span><span class="n">field_2</span><span class="o">|</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="n">geom_1</span><span class="o">|</span><span class="n">geom_1_srid</span><span class="o">|</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
<span class="o">|</span><span class="w">       </span><span class="s">&quot;description&quot;</span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="o">|</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nc">POINT</span><span class="w"> </span><span class="p">(</span><span class="mf">1.0</span><span class="w"> </span><span class="mf">1.0</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">4326</span><span class="o">|</span>
<span class="o">|</span><span class="w">       </span><span class="s">&quot;description&quot;</span><span class="o">|</span><span class="w">      </span><span class="mi">2</span><span class="o">|</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nc">POINT</span><span class="w"> </span><span class="p">(</span><span class="mf">2.0</span><span class="w"> </span><span class="mf">2.0</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">4326</span><span class="o">|</span>
<span class="o">|</span><span class="w">       </span><span class="s">&quot;description&quot;</span><span class="o">|</span><span class="w">      </span><span class="mi">3</span><span class="o">|</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nc">POINT</span><span class="w"> </span><span class="p">(</span><span class="mf">3.0</span><span class="w"> </span><span class="mf">3.0</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">4326</span><span class="o">|</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="mos-read-format-multi-read-ogr">
<h3>mos.read().format(“multi_read_ogr”)<a class="headerlink" href="#mos-read-format-multi-read-ogr" title="Permalink to this headline"></a></h3>
<p>Mosaic supports reading vector files in parallel with multiple spark tasks.
The amount of data per task is controlled by the chunkSize option.
Chunk size is the number of file rows that will be read per single task.
The output of the reader is a DataFrame with inferred schema.
The schema is inferred from both features and fields in the vector file.
Each feature will be provided as 2 columns:</p>
<blockquote>
<div><ul class="simple">
<li><p>geometry - geometry of the feature (GeometryType)</p></li>
<li><p>srid - spatial reference system identifier of the feature (StringType)</p></li>
</ul>
</div></blockquote>
<p>The fields of the feature will be provided as columns in the DataFrame.
The types of the fields are coerced to most concrete type that can hold all the values.
The reader supports the following options:</p>
<blockquote>
<div><ul class="simple">
<li><p>driverName - GDAL driver name (StringType)</p></li>
<li><p>vsizip - if the vector files are zipped files, set this to true (BooleanType)</p></li>
<li><p>asWKB - if the geometry should be returned as WKB (BooleanType) - default is false</p></li>
<li><p>chunkSize - size of the chunk to read from the file per single task (IntegerType) - default is 5000</p></li>
<li><p>layerName - name of the layer to read (StringType)</p></li>
<li><p>layerNumber - number of the layer to read (IntegerType)</p></li>
</ul>
</div></blockquote>
<dl class="py function">
<dt class="sig sig-object py" id="id0">
<span class="sig-prename descclassname"><span class="pre">read.</span></span><span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">&quot;multi_read_ogr&quot;).load(path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id0" title="Permalink to this definition"></a></dt>
<dd><p>Loads a vector file and returns the result as a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – the path of the vector file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd></dl>

<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" role="tablist"><button aria-controls="panel-1-UHl0aG9u" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-1-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="0">Python</button><button aria-controls="panel-1-U2NhbGE=" aria-selected="false" class="sphinx-tabs-tab code-tab group-tab" id="tab-1-U2NhbGE=" name="U2NhbGE=" role="tab" tabindex="-1">Scala</button></div><div aria-labelledby="tab-1-UHl0aG9u" class="sphinx-tabs-panel code-tab group-tab" id="panel-1-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">mos</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;multi_read_ogr&quot;</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s2">&quot;driverName&quot;</span><span class="p">,</span> <span class="s2">&quot;GeoJSON&quot;</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s2">&quot;layerName&quot;</span><span class="p">,</span> <span class="s2">&quot;points&quot;</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s2">&quot;asWKB&quot;</span><span class="p">,</span> <span class="s2">&quot;false&quot;</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;file:///tmp/points.geojson&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
<span class="o">|</span>             <span class="n">field_1</span><span class="o">|</span><span class="n">field_2</span><span class="o">|</span> <span class="o">...</span> <span class="o">|</span>           <span class="n">geom_1</span><span class="o">|</span><span class="n">geom_1_srid</span><span class="o">|</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
<span class="o">|</span>       <span class="s2">&quot;description&quot;</span><span class="o">|</span>      <span class="mi">1</span><span class="o">|</span> <span class="o">...</span> <span class="o">|</span> <span class="n">POINT</span> <span class="p">(</span><span class="mf">1.0</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">|</span>       <span class="mi">4326</span><span class="o">|</span>
<span class="o">|</span>       <span class="s2">&quot;description&quot;</span><span class="o">|</span>      <span class="mi">2</span><span class="o">|</span> <span class="o">...</span> <span class="o">|</span> <span class="n">POINT</span> <span class="p">(</span><span class="mf">2.0</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">|</span>       <span class="mi">4326</span><span class="o">|</span>
<span class="o">|</span>       <span class="s2">&quot;description&quot;</span><span class="o">|</span>      <span class="mi">3</span><span class="o">|</span> <span class="o">...</span> <span class="o">|</span> <span class="n">POINT</span> <span class="p">(</span><span class="mf">3.0</span> <span class="mf">3.0</span><span class="p">)</span> <span class="o">|</span>       <span class="mi">4326</span><span class="o">|</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-U2NhbGE=" class="sphinx-tabs-panel code-tab group-tab" hidden="true" id="panel-1-U2NhbGE=" name="U2NhbGE=" role="tabpanel" tabindex="0"><div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="kd">val</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">MosaicContext</span><span class="p">.</span><span class="n">read</span><span class="p">.</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;multi_read_ogr&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">option</span><span class="p">(</span><span class="s">&quot;layerName&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;points&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">option</span><span class="p">(</span><span class="s">&quot;asWKB&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;false&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;file:///tmp/points.geojson&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
<span class="o">|</span><span class="w">             </span><span class="n">field_1</span><span class="o">|</span><span class="n">field_2</span><span class="o">|</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="n">geom_1</span><span class="o">|</span><span class="n">geom_1_srid</span><span class="o">|</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
<span class="o">|</span><span class="w">       </span><span class="s">&quot;description&quot;</span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="o">|</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nc">POINT</span><span class="w"> </span><span class="p">(</span><span class="mf">1.0</span><span class="w"> </span><span class="mf">1.0</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">4326</span><span class="o">|</span>
<span class="o">|</span><span class="w">       </span><span class="s">&quot;description&quot;</span><span class="o">|</span><span class="w">      </span><span class="mi">2</span><span class="o">|</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nc">POINT</span><span class="w"> </span><span class="p">(</span><span class="mf">2.0</span><span class="w"> </span><span class="mf">2.0</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">4326</span><span class="o">|</span>
<span class="o">|</span><span class="w">       </span><span class="s">&quot;description&quot;</span><span class="o">|</span><span class="w">      </span><span class="mi">3</span><span class="o">|</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nc">POINT</span><span class="w"> </span><span class="p">(</span><span class="mf">3.0</span><span class="w"> </span><span class="mf">3.0</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">4326</span><span class="o">|</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="spark-read-format-geo-db">
<h3>spark.read().format(“geo_db”)<a class="headerlink" href="#spark-read-format-geo-db" title="Permalink to this headline"></a></h3>
<p>Mosaic provides a reader for GeoDB files natively in Spark.
The output of the reader is a DataFrame with inferred schema.
Only 1 file per task is read. For parallel reading of large files use the multi_read_ogr reader.
The reader supports the following options:</p>
<blockquote>
<div><ul class="simple">
<li><p>asWKB - if the geometry should be returned as WKB (BooleanType) - default is false</p></li>
<li><p>layerName - name of the layer to read (StringType)</p></li>
<li><p>layerNumber - number of the layer to read (IntegerType)</p></li>
<li><p>vsizip - if the vector files are zipped files, set this to true (BooleanType)</p></li>
</ul>
</div></blockquote>
<dl class="py function">
<dt class="sig sig-object py" id="id1">
<span class="sig-prename descclassname"><span class="pre">read.</span></span><span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">&quot;geo_db&quot;).load(path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id1" title="Permalink to this definition"></a></dt>
<dd><p>Loads a GeoDB file and returns the result as a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – the path of the GeoDB file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd></dl>

<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" role="tablist"><button aria-controls="panel-2-UHl0aG9u" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-2-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="0">Python</button><button aria-controls="panel-2-U2NhbGE=" aria-selected="false" class="sphinx-tabs-tab code-tab group-tab" id="tab-2-U2NhbGE=" name="U2NhbGE=" role="tab" tabindex="-1">Scala</button></div><div aria-labelledby="tab-2-UHl0aG9u" class="sphinx-tabs-panel code-tab group-tab" id="panel-2-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">spark</span><span class="o">.</span><span class="n">read</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;geo_db&quot;</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s2">&quot;layerName&quot;</span><span class="p">,</span> <span class="s2">&quot;points&quot;</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s2">&quot;asWKB&quot;</span><span class="p">,</span> <span class="s2">&quot;false&quot;</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;file:///tmp/points.geodb&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
<span class="o">|</span>             <span class="n">field_1</span><span class="o">|</span><span class="n">field_2</span><span class="o">|</span> <span class="o">...</span> <span class="o">|</span>           <span class="n">geom_1</span><span class="o">|</span><span class="n">geom_1_srid</span><span class="o">|</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
<span class="o">|</span>       <span class="s2">&quot;description&quot;</span><span class="o">|</span>      <span class="mi">1</span><span class="o">|</span> <span class="o">...</span> <span class="o">|</span> <span class="n">POINT</span> <span class="p">(</span><span class="mf">1.0</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">|</span>       <span class="mi">4326</span><span class="o">|</span>
<span class="o">|</span>       <span class="s2">&quot;description&quot;</span><span class="o">|</span>      <span class="mi">2</span><span class="o">|</span> <span class="o">...</span> <span class="o">|</span> <span class="n">POINT</span> <span class="p">(</span><span class="mf">2.0</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">|</span>       <span class="mi">4326</span><span class="o">|</span>
<span class="o">|</span>       <span class="s2">&quot;description&quot;</span><span class="o">|</span>      <span class="mi">3</span><span class="o">|</span> <span class="o">...</span> <span class="o">|</span> <span class="n">POINT</span> <span class="p">(</span><span class="mf">3.0</span> <span class="mf">3.0</span><span class="p">)</span> <span class="o">|</span>       <span class="mi">4326</span><span class="o">|</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-2-U2NhbGE=" class="sphinx-tabs-panel code-tab group-tab" hidden="true" id="panel-2-U2NhbGE=" name="U2NhbGE=" role="tabpanel" tabindex="0"><div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="kd">val</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">read</span><span class="p">.</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;geo_db&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">option</span><span class="p">(</span><span class="s">&quot;layerName&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;points&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">option</span><span class="p">(</span><span class="s">&quot;asWKB&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;false&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;file:///tmp/points.geodb&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
<span class="o">|</span><span class="w">             </span><span class="n">field_1</span><span class="o">|</span><span class="n">field_2</span><span class="o">|</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="n">geom_1</span><span class="o">|</span><span class="n">geom_1_srid</span><span class="o">|</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
<span class="o">|</span><span class="w">       </span><span class="s">&quot;description&quot;</span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="o">|</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nc">POINT</span><span class="w"> </span><span class="p">(</span><span class="mf">1.0</span><span class="w"> </span><span class="mf">1.0</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">4326</span><span class="o">|</span>
<span class="o">|</span><span class="w">       </span><span class="s">&quot;description&quot;</span><span class="o">|</span><span class="w">      </span><span class="mi">2</span><span class="o">|</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nc">POINT</span><span class="w"> </span><span class="p">(</span><span class="mf">2.0</span><span class="w"> </span><span class="mf">2.0</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">4326</span><span class="o">|</span>
<span class="o">|</span><span class="w">       </span><span class="s">&quot;description&quot;</span><span class="o">|</span><span class="w">      </span><span class="mi">3</span><span class="o">|</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nc">POINT</span><span class="w"> </span><span class="p">(</span><span class="mf">3.0</span><span class="w"> </span><span class="mf">3.0</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">4326</span><span class="o">|</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="spark-read-format-shapefile">
<h3>spark.read().format(“shapefile”)<a class="headerlink" href="#spark-read-format-shapefile" title="Permalink to this headline"></a></h3>
<p>Mosaic provides a reader for Shapefiles natively in Spark.
The output of the reader is a DataFrame with inferred schema.
Only 1 file per task is read. For parallel reading of large files use the multi_read_ogr reader.
The reader supports the following options:</p>
<blockquote>
<div><ul class="simple">
<li><p>asWKB - if the geometry should be returned as WKB (BooleanType) - default is false</p></li>
<li><p>layerName - name of the layer to read (StringType)</p></li>
<li><p>layerNumber - number of the layer to read (IntegerType)</p></li>
<li><p>vsizip - if the vector files are zipped files, set this to true (BooleanType)</p></li>
</ul>
</div></blockquote>
<dl class="py function">
<dt class="sig sig-object py" id="id2">
<span class="sig-prename descclassname"><span class="pre">read.</span></span><span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">&quot;shapefile&quot;).load(path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id2" title="Permalink to this definition"></a></dt>
<dd><p>Loads a Shapefile and returns the result as a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – the path of the Shapefile</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd></dl>

<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" role="tablist"><button aria-controls="panel-3-UHl0aG9u" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-3-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="0">Python</button><button aria-controls="panel-3-U2NhbGE=" aria-selected="false" class="sphinx-tabs-tab code-tab group-tab" id="tab-3-U2NhbGE=" name="U2NhbGE=" role="tab" tabindex="-1">Scala</button></div><div aria-labelledby="tab-3-UHl0aG9u" class="sphinx-tabs-panel code-tab group-tab" id="panel-3-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">spark</span><span class="o">.</span><span class="n">read</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;shapefile&quot;</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s2">&quot;layerName&quot;</span><span class="p">,</span> <span class="s2">&quot;points&quot;</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s2">&quot;asWKB&quot;</span><span class="p">,</span> <span class="s2">&quot;false&quot;</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;file:///tmp/points.shp&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
<span class="o">|</span>             <span class="n">field_1</span><span class="o">|</span><span class="n">field_2</span><span class="o">|</span> <span class="o">...</span> <span class="o">|</span>           <span class="n">geom_1</span><span class="o">|</span><span class="n">geom_1_srid</span><span class="o">|</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
<span class="o">|</span>       <span class="s2">&quot;description&quot;</span><span class="o">|</span>      <span class="mi">1</span><span class="o">|</span> <span class="o">...</span> <span class="o">|</span> <span class="n">POINT</span> <span class="p">(</span><span class="mf">1.0</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">|</span>       <span class="mi">4326</span><span class="o">|</span>
<span class="o">|</span>       <span class="s2">&quot;description&quot;</span><span class="o">|</span>      <span class="mi">2</span><span class="o">|</span> <span class="o">...</span> <span class="o">|</span> <span class="n">POINT</span> <span class="p">(</span><span class="mf">2.0</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">|</span>       <span class="mi">4326</span><span class="o">|</span>
<span class="o">|</span>       <span class="s2">&quot;description&quot;</span><span class="o">|</span>      <span class="mi">3</span><span class="o">|</span> <span class="o">...</span> <span class="o">|</span> <span class="n">POINT</span> <span class="p">(</span><span class="mf">3.0</span> <span class="mf">3.0</span><span class="p">)</span> <span class="o">|</span>       <span class="mi">4326</span><span class="o">|</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-3-U2NhbGE=" class="sphinx-tabs-panel code-tab group-tab" hidden="true" id="panel-3-U2NhbGE=" name="U2NhbGE=" role="tabpanel" tabindex="0"><div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="kd">val</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">read</span><span class="p">.</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;shapefile&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">option</span><span class="p">(</span><span class="s">&quot;layerName&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;points&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">option</span><span class="p">(</span><span class="s">&quot;asWKB&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;false&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;file:///tmp/points.shp&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
<span class="o">|</span><span class="w">             </span><span class="n">field_1</span><span class="o">|</span><span class="n">field_2</span><span class="o">|</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="o">|</span><span class="w">           </span><span class="n">geom_1</span><span class="o">|</span><span class="n">geom_1_srid</span><span class="o">|</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
<span class="o">|</span><span class="w">       </span><span class="s">&quot;description&quot;</span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="o">|</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nc">POINT</span><span class="w"> </span><span class="p">(</span><span class="mf">1.0</span><span class="w"> </span><span class="mf">1.0</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">4326</span><span class="o">|</span>
<span class="o">|</span><span class="w">       </span><span class="s">&quot;description&quot;</span><span class="o">|</span><span class="w">      </span><span class="mi">2</span><span class="o">|</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nc">POINT</span><span class="w"> </span><span class="p">(</span><span class="mf">2.0</span><span class="w"> </span><span class="mf">2.0</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">4326</span><span class="o">|</span>
<span class="o">|</span><span class="w">       </span><span class="s">&quot;description&quot;</span><span class="o">|</span><span class="w">      </span><span class="mi">3</span><span class="o">|</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nc">POINT</span><span class="w"> </span><span class="p">(</span><span class="mf">3.0</span><span class="w"> </span><span class="mf">3.0</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">4326</span><span class="o">|</span>
<span class="o">+--------------------+-------+-----+-----------------+-----------+</span>
</pre></div>
</div>
</div></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="api.html" class="btn btn-neutral float-left" title="API Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="raster-format-readers.html" class="btn btn-neutral float-right" title="Raster Format Readers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Databricks Inc.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>